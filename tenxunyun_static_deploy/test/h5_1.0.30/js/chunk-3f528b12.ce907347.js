(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f528b12"],{"3d32":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div")},a=[],s=o("cadd"),i=o("892e"),l=o("5aaa"),r=o("2efa"),c=s["a"].Locale,d={methods:{toggleLang:function(e){switch(localStorage.setItem("lang",e),e){case"en-US":c.use("en-US",i["a"]);break;case"zh-TW":c.use("zh-TW",r["a"]);break;default:c.use("zh-CN",l["a"])}this.$i18n.locale=e}}},u=d,p=(o("7a68"),o("2877")),h=Object(p["a"])(u,n,a,!1,null,"6efd8910",null);h.options.__file="LangTool.vue";t["a"]=h.exports},"76c0":function(e,t,o){},"7a68":function(e,t,o){"use strict";var n=o("76c0"),a=o.n(n);a.a},"8de8":function(e,t,o){},a55b:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("NavBar",{attrs:{title:e.$t("common.navTitle")}}),o("div",{staticClass:"form-wrap login-form"},[o("div",{staticClass:"login-form-item"},[e.model.telephoneLogin?o("cube-input",{attrs:{placeholder:e.$t("common.telephoneNumberPlaceholder"),maxlength:20},model:{value:e.model.telephone,callback:function(t){e.$set(e.model,"telephone",t)},expression:"model.telephone"}},[o("svg",{staticClass:"icon",attrs:{slot:"prepend","aria-hidden":"true"},slot:"prepend"},[o("use",{attrs:{"xlink:href":"#icon-shoujihao"}})])]):o("cube-input",{attrs:{placeholder:e.$t("common.idPlaceholder"),maxlength:30},model:{value:e.model.userId,callback:function(t){e.$set(e.model,"userId",t)},expression:"model.userId"}},[o("svg",{staticClass:"icon",attrs:{slot:"prepend","aria-hidden":"true"},slot:"prepend"},[o("use",{attrs:{"xlink:href":"#icon-character"}})])])],1),o("div",{staticClass:"login-form-item"},[o("cube-input",{attrs:{type:"password",placeholder:e.$t("common.pwdPlaceholder"),eye:e.eye,maxlength:20},model:{value:e.model.userPwd,callback:function(t){e.$set(e.model,"userPwd",t)},expression:"model.userPwd"}},[o("svg",{staticClass:"icon",attrs:{slot:"prepend","aria-hidden":"true"},slot:"prepend"},[o("use",{attrs:{"xlink:href":"#icon-mima"}})])])],1),o("router-link",{staticClass:"link go-register",attrs:{to:"register"}},[e._v(e._s(e.$t("common.applyRegister")))]),o("div",{staticClass:"submit-wrap"},[o("UButton",{attrs:{buttonType:"submit",size:"large"},on:{click:e.submitHandler}},[e._v(e._s(e.$t("common.login")))])],1)],1),o("LangTool")],1)},a=[],s=o("d000"),i=o("4da9"),l=o("3d32"),r=(o("df49"),o("664d"),o("fa7d")),c={login:"/h5/login"},d={data:function(){return{validity:{},valid:void 0,model:{userId:"",userPwd:"",telephone:"",telephoneLogin:!1},eye:{open:!1,reverse:!1}}},methods:{checkData:function(e){var t=this,o=e.userId,n=void 0===o?"":o,a=e.userPwd,s=void 0===a?"":a,i=e.telephone,l=void 0===i?"":i,r=e.telephoneLogin,c=[[!n&&!r,this.$t("common.idRequired")],[!l&&r,this.$t("common.telephoneNumberPlaceholder")],[!/^([()+-\s0-9]){6,20}$/.test(l)&&r,this.$t("common.telephoneError")],[!s,this.$t("common.pwdRequired")]];return c.every(function(e){return!e[0]||(t.showToastType(e[1]),!1)})},submitHandler:function(){var e=this,t=Object(r["d"])(this.model),o=t.userId,n=void 0===o?"":o,a=t.userPwd,s=void 0===a?"":a,i=t.telephone,l=void 0===i?"":i,d=t.telephoneLogin;if(this.checkData(t)){console.log("valid");var u={passwd:s,people_id:d?"":n,telephone:d?l:"",telephoneLogin:d};this.http.post(c.login,u).then(function(t){if(1e3===t.code){var o=t.data.people_name;e.$storage.setItem("user",{peopleName:o,telephone:t.data.telephone},!1),e.$router.push("index")}else{var n=d?e.$t("common.loginError2"):e.$t("common.loginError1");e.showToastType(t.msg?"".concat(t.msg).concat(t.reason?":".concat(t.reason):""):n)}})}},showToastType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",o=this.$createToast({txt:e,type:t});o.show()},toggleLoginType:function(){this.model.telephoneLogin=!this.model.telephoneLogin}},components:{NavBar:s["a"],UButton:i["a"],LangTool:l["a"]}},u=d,p=(o("e9da"),o("2877")),h=Object(p["a"])(u,n,a,!1,null,"7931cdf9",null);h.options.__file="Login.vue";t["default"]=h.exports},e9da:function(e,t,o){"use strict";var n=o("8de8"),a=o.n(n);a.a}}]);
//# sourceMappingURL=chunk-3f528b12.ce907347.js.map