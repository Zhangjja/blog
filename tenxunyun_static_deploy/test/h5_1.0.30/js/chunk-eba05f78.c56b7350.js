(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eba05f78"],{"04e3":function(t,i,e){"use strict";var n=e("05b7"),o=e.n(n);o.a},"05b7":function(t,i,e){},"14b9":function(t,i,e){"use strict";var n=e("1bf9"),o=e.n(n);o.a},"1bf9":function(t,i,e){},"85be":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"bg"},[e("div",{staticClass:"invite-wrap"},[e("div",{staticClass:"invite-title"}),e("div",{staticClass:"invite-body"},[e("div",{staticClass:"invite-content"},[e("div",{staticClass:"inviter word-break"},[t._v("\n           "+t._s(t.detail.organization)+"Â "+t._s(t.detail.invitation.people_name)),e("br"),t._v(t._s(t.$t("common.inviteYouToVisit"))+"\n        ")]),e("div",{staticClass:"invite-item"},[t._v("\n          "+t._s(t.$t("common.visitReason"))),e("br"),t._v("\n          /"),e("br"),t._v("\n          "+t._s(t.detail.people.reasons_for_access)+"\n        ")]),e("div",{staticClass:"invite-item"},[t._v("\n          "+t._s(t.$t("common.visitTime"))),e("br"),t._v("\n          /"),e("br"),t._v("\n          "+t._s(t._f("dateformat")(t.detail.people.start_time,"YYYY.MM.DD HH:mm"))),e("br"),t._v("\n          ~"+t._s(t._f("dateformat")(t.detail.people.end_time,"YYYY.MM.DD HH:mm"))+"\n        ")])])])]),e("div",{staticClass:"form-wrap"},[e("div",{staticClass:"comment"},[t._v(t._s(t.$t("common.invitationPhotoComment")))]),e("div",[e("u-upload",{staticClass:"white",on:{fileSubmitted:t.fileSubmitted,filesAdded:t.filesAdded},model:{value:t.model.images,callback:function(i){t.$set(t.model,"images",i)},expression:"model.images"}})],1),e("button",{staticClass:"button",attrs:{type:"submit"},on:{click:t.submitHandler}},[t._v(t._s(t.$t("common.confirm")))])]),e("extend-popup",{ref:"extendPopup"})],1)},o=[],s=(e("cadf"),e("551c"),e("097d"),e("7cfa")),a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("cube-popup",{ref:"popup",staticClass:"extend-popup",attrs:{type:"extend-popup",maskClosable:t.maskClosable}},[e("div",{staticClass:"extend-popup-content",class:"correct"===t.type?"correct":""},[e("span",{staticClass:"icon"}),t._v(t._s(t.content)+"\n   ")])])},c=[],l={data:function(){return{content:"",type:"",maskClosable:!1,timer:""}},name:"extend-popup",methods:{show:function(t){var i=this,e=t.content,n=t.type,o=t.time,s=t.maskClosable;this.content=e,this.type=n,this.maskClosable=s,this.$refs.popup.show(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){i.$refs.popup.hide()},o||3e3)}}},d=l,p=(e("14b9"),e("2877")),r=Object(p["a"])(d,a,c,!1,null,"3c6e6874",null);r.options.__file="ExtendPopup.vue";var m=r.exports,u={invitation:"/h5/invitation",accept:"/h5/invitation/accept"},v={data:function(){return{detail:{organization:"",invitation:{},people:{}},model:{images:[]},uploading:!1,invitationId:""}},components:{UUpload:s["a"],ExtendPopup:m},mounted:function(){var t=this,i=this.$route.params.invitationId;i=i-0||"",this.invitationId=i,i&&this.http.get(u.invitation,{params:{invitation_id:i}}).then(function(i){1e3===i.code?t.detail=i.data:console.log(t.$t("common.failedToGetInvitationInfo"))}).catch(function(){console.log(t.$t("common.failedToGetInvitationInfo"))})},methods:{submitHandler:function(){var t=this,i=this.model.images,e=i[0]&&i[0].base64;if(e){if(this.invitationId){var n={image:e,invitation_id:this.invitationId};this.http.post(u.accept,n).then(function(i){1e3===i.code?t.showToastType(t.$t("common.alreadyAcceptInvitation"),"correct",5e3):t.showToastType(i.msg?"".concat(i.msg).concat(i.reason?":".concat(i.reason):""):t.$t("common.failedToConfirmInvitation"))}).catch(function(){t.showToastType(t.$t("common.failedToConfirmInvitation"))})}}else this.showToastType(this.$t("common.photoRequired"))},filesAdded:function(){this.uploading=!0},fileSubmitted:function(){this.uploading=!1},showToastType:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",e=arguments.length>2?arguments[2]:void 0;this.$refs.extendPopup.show({content:t,time:e||3e3,type:i,maskClosable:"error"===i})}},computed:{locale:function(){return this.$i18n.locale},isEn:function(){return"en-US"===this.locale}}},f=v,h=(e("04e3"),Object(p["a"])(f,n,o,!1,null,"d45f73f0",null));h.options.__file="Invitation.vue";i["default"]=h.exports}}]);
//# sourceMappingURL=chunk-eba05f78.c56b7350.js.map